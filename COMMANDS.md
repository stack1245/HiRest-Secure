# HiRest Bot V2 - 명령어 가이드

> **권한 요구사항**: 모든 명령어는 스태프 역할이 필요합니다  
> **표기법**: `<필수>` `[선택]` `{옵션1|옵션2}`

---

## 📌 목차
1. [플레이어 처벌](#-플레이어-처벌)
2. [플레이어 정보](#-플레이어-정보)
3. [플레이어 설정](#-플레이어-설정)
4. [로그 관리](#-로그-관리)
5. [시스템](#-시스템)

---

## 🚫 플레이어 처벌

### `/ban <player> [reason]`
플레이어를 영구 차단하고 로그를 업로드합니다.

**실행**: `.p ban <player> [reason]`  
**추가 작업**:
- 플레이어 정보 수집 (UUID, IP)
- 차단 로그 채널에 자동 업로드

**차단 로그 형식**:
```
## <:hr_ban:1350451179683057764> 차단 로그

`Username` 플레이어명
`UUID` 00000000-0000-0000-0000-000000000000
`IP` 000.000.000.000
`차단 사유` HiRest ToS 위반 사유
```

---

### `/로그업로드 <player> [reason]`
**차단 없이** 플레이어 정보만 수집하여 로그를 업로드합니다.

**특징**:
- ✅ 플레이어 정보 수집
- ✅ 차단 로그 업로드
- ❌ 실제 차단은 하지 않음

---

### `/tempban <player> <duration> [reason]`
플레이어를 임시 차단합니다.

**실행**: `.p tempban <player> <duration> [reason]`  
**기간 형식**: `30m`, `1h`, `3h`, `6h`, `12h`, `1d`, `2d`, `3d`, `7d`, `15d`, `영구`

**예시**: `/tempban player123 3d 5-2-2: 처벌 우회`

---

### `/unban <player>`
플레이어의 차단을 해제합니다.

**실행**: `.p unban <player>`

---

### `/kick <player> [reason]`
플레이어를 서버에서 추방합니다.

**실행**: `.s ilunar kick <player> [reason]`  
**용도**: 경고성 처벌, AFK 강제 퇴장 등

---

### `/mute <player> <duration> [reason]`
플레이어의 채팅을 금지합니다.

**실행**: `.s ilunar cmi mute <player> <duration> [reason]`  
**기간 형식**: `30s`, `30m`, `1h`, `3h`, `6h`, `18h`, `1d`, `permanent`, `영구`

**예시**: `/mute player123 1h 4-1-1: 부적절한 내용 언행`

---

### `/unmute <player>`
플레이어의 뮤트를 해제합니다.

**실행**: `.s ilunar cmi unmute <player>`

---

## 📊 플레이어 정보

### `/list`
현재 온라인 플레이어를 등급별로 조회합니다.

**실행**: 콘솔 채널에 `list` 전송 후 파싱  
**출력 형식**:
```
  [일 03:39:18 INFO ] ========================
  [일 03:39:18 INFO ] Players online 16/999
  [일 03:39:18 INFO ] special: HiRest예훈, 스프링 
  [일 03:39:18 INFO ] default: 2YPER, kimicaC, jekydat, qnddj040916, JNHGPK, djksnbkdl, Hamster_IamCream, s_con1, KR_Shiroko 
  [일 03:39:18 INFO ] premium: A1phaa, 불멸, 아자, 녹차 
  [일 03:39:18 INFO ] lite: 오르트구름
  [일 03:39:18 INFO ] ========================
```

---

### `/info <player>`
플레이어의 상세 정보를 조회합니다.

**실행**: 아이루나 콘솔 채널에 `cmi info <player>` 전송  
**조회 정보**:
- 닉네임 (Display name)
- UUID
- IP 주소
- 온라인 상태

---

## ⚙️ 플레이어 설정

### `/rank <player> <rank>`
플레이어의 권한 등급을 설정합니다.

**실행**: `.s ilunar lp user <player> parent set <rank>`  
**사용 가능한 랭크**:
- `default` - 기본 유저
- `lite` - 라이트 등급
- `special` - 스페셜 등급
- `premium` - 프리미엄 등급
- `ultra` - 울트라 등급
- `booster` - 부스터
- `youtuber` - 유튜버
- `mod` - 모더레이터
- `admin` - 관리자
- `owner` - 오너

---

### `/nick <player> <nickname>`
플레이어의 닉네임을 변경합니다.

**실행**: `.s ilunar cmi nick <nickname> <player>`  
**제약 사항**: 띄어쓰기 불가 (언더바 사용)

**예시**: `/nick player123 &c레드_닉네임`

---

### `/vote <player>`
플레이어에게 추천 보상을 지급합니다.

**실행**: 아이루나 콘솔 채널에 `getvote <player>` 전송

---

### `/checkvote <vote_id> [server_id]`
마인리스트 추천 고유번호로 추천 정보를 조회합니다.

**매개변수**:
- `vote_id`: 조회할 추천 고유번호 (필수)
- `server_id`: 서버 ID (선택, 기본값: 16262-ilunar.kr)

**조회 정보**:
- 추천 고유번호
- 게임 아이디
- 추천 시간
- 추천한 서버

**예시**: `/checkvote 12345`

**참고**: Selenium과 BeautifulSoup을 사용하여 마인리스트 웹 페이지를 파싱합니다.

---

## 📋 로그 관리

### `/로그검색 <player>`
차단 로그 채널에서 플레이어의 차단 기록을 검색합니다.

**출력**: 최대 5개의 차단 로그 (메시지 링크 포함)  
**검색 범위**: 최근 1000개 메시지

---

### `/로그업로드 <player> [reason]`
차단 없이 플레이어 정보를 수집하고 차단 로그만 업로드합니다.

**특징**:
- ✅ 플레이어 정보 수집 (UUID, IP)
- ✅ 차단 로그 채널에 업로드
- ❌ 실제 차단은 실행하지 않음

**사용 예시**: `/로그업로드 player123 5-1: 비인가 프로그램 및 모드 사용`

**활용 사례**:
- 이미 차단된 플레이어의 로그 보완
- 수동 차단 후 로그 기록
- 테스트 목적의 로그 생성

---

### `/중복제거 [player]`
플레이어의 중복된 차단 로그를 제거합니다.

**동작**: 최초 로그를 제외한 모든 중복 제거  
**검색 범위**: 최근 2000개 메시지

---

### `/로그삭제 <player>`
플레이어의 모든 차단 로그를 삭제합니다.

**경고**: 삭제된 로그는 복구할 수 없습니다  
**검색 범위**: 최근 2000개 메시지

---

## 🛠️ 시스템

### `/command`
직접 명령어를 입력하여 실행합니다.

**인터페이스**: 모달 창  
**서버 선택**:
- `ilunar` - 아이루나 콘솔 채널에 직접 전송
- `proxy` - API 채널에 `.p {명령어}` 형식으로 전송

---

### `/help`
모든 명령어 목록과 사용법을 표시합니다.

**출력**: 카테고리별 명령어 임베드

---

## 📖 참고 정보

### 시간 형식
| 단위 | 의미 | 예시 |
|-----|------|-----|
| `s` | 초 | `30s` = 30초 |
| `m` | 분 | `30m` = 30분 |
| `h` | 시간 | `6h` = 6시간 |
| `d` | 일 | `3d` = 3일 |
| `permanent` / `영구` | 영구 | 뮤트 전용 |

---

### HiRest ToS 주요 사유

#### 임시 차단 (TEMPBAN)
- `1-5: 허위 사실 유포 (7일)`
- `1-11: 무단 홍보 (7일)`
- `2-4: 부적절한 닉네임/스킨 사용 (변경 전까지)`
- `2-5: 서버 내 렉머신 (7일)`

#### 영구 차단 (BAN)
- `1-3: 타인의 개인정보 유포`
- `1-6: 서버 분위기 저하성 발언`
- `1-7: 서버 비하`
- `1-9: 관리진 사칭`
- `1-10: 허위 진술·증거 인멸/조작 행위`
- `2-1: 비인가 프로그램 및 모드 사용`
- `2-2: IP 우회(VPN/Proxy)`
- `2-3: 특정 목적 부계정 사용`
- `2-6: 부적절한 거래 (현금거래/사기)`
- `2-7: 버그 악용`
- `2-8: 약탈 및 테러 (iLunar 제외)`
- `2-9: 합의되지 않은 PvP (Arsenic 제외)`
- `3-1: 티켓 내 무례한 언행`
- `3-2: 운영 간섭 및 조치 강요`
- `3차 처벌: Strike-Out 제도`

#### 뮤트 (MUTE)
- `1-1: 부적절한 언행 (비대상, 2시간)`
- `1-1: 부적절한 언행 (특정 유저 대상, 12시간)`
- `1-2: 채팅 도배 (실수, 30분)`
- `1-2: 채팅 도배 (고의, 1시간)`
- `1-4: 분쟁 유도 (12시간)`
- `1-4: 분쟁 (관련자 모두, 2일)`
- `1-8: 혐오 컨텐츠 유포 (6시간)`

---

### 명령어 실행 흐름

#### 1️⃣ Proxy 명령어 (`.p`)
```
Discord → API 채널 → .p {명령어} → Proxy → Minecraft 서버
```

#### 2️⃣ iLunar 명령어 (`.s ilunar`)
```
Discord → API 채널 → .s ilunar {명령어} → iLunar 서버
```

#### 3️⃣ Console 명령어
```
Discord → 콘솔 채널 → {명령어} → 콘솔 응답 파싱 → Discord
```

---

### 환경 설정 (`.env`)

| 설정 | 채널/역할 ID |
|-----|-------------|
| API_CHANNEL_ID | `1395323964334800927` |
| ILUNAR_CONSOLE_CHANNEL_ID | `1322493690895142942` |
| BAN_LOG_CHANNEL_ID | `1304070060041568338` |
| STAFF_ROLE_ID | `1223970284692967476` |
| TARGET_GUILD_ID | (서버 고유 ID) |

---

## 📝 노트

### Strike-Out 제도
- **1차 처벌**: 규정 게시된 처벌 기간
- **2차 처벌**: 규정 게시된 처벌 기간의 **3배**
- **3차 처벌**: 처벌 강도 관계없이 **영구 차단**

### 예외 사항
- 개인정보 유출
- 비인가 프로그램 및 모드 사용

위 두 가지는 **즉시 영구 차단**됩니다.

---

<div align="center">

**HiRest Bot V2** | Made with ❤️ by HiRest Team  
[이용약관](https://hirest.notion.site/HiRest-ToS-d8c27dec1a9c4865a3db75c9eacb8448)

</div>
